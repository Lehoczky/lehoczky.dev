---
import Hero from "@/modules/hero/Hero.astro"
import Layout from "@/modules/layout/Layout.astro"
import Passions from "@/modules/passions/Passions.astro"
import Projects from "@/modules/projects/Projects.astro"
import TechStack from "@/modules/tech-stack/TechStack.vue"
---

<Layout>
  <Hero />
  <TechStack client:load />
  <Projects />
  <Passions />
</Layout>

<script>
  const sectionTitles = document.querySelectorAll("h2")
  const observer = new IntersectionObserver(
    (entries) => {
      for (const entry of entries) {
        if (entry.isIntersecting) {
          entry.target.classList.remove("out")
        } else {
          entry.target.classList.add("out")
        }
      }
    },
    {
      threshold: 1,
    },
  )

  for (const title of sectionTitles) {
    observer.observe(title)
  }
</script>

<style is:global>
  :root {
    color-scheme: dark;
  }
</style>
