---
import { Code } from "astro/components"
import Picture from "astro/components/Picture.astro"
import type { HTMLAttributes } from "astro/types"

import aproScrape from "@/assets/images/apro-scrape.png"
import szikraWeb from "@/assets/images/szikra-web.png"
import postcssFluidExample from "@/assets/postcss-fluid.example.css?raw"
import DotPattern from "@/modules/shared/components/DotPattern.vue"
import Link from "@/modules/shared/components/Link.vue"
import SectionTitle from "@/modules/shared/components/SectionTitle.vue"
import { cn } from "@/modules/shared/libs/cn"
import IconAstro from "~icons/custom/astro.vue"
import IconDecapCMS from "~icons/custom/decap-cms.vue"
import IconShadcnUI from "~icons/custom/shadcn-ui.vue"

import ProjectContainer from "./ProjectContainer.astro"
import ProjectDescription from "./ProjectDescription.astro"
import ProjectImageLink from "./ProjectImageLink.vue"
import ProjectTechnologies from "./ProjectTechnologies.astro"
import ProjectTextContainer from "./ProjectTextContainer.astro"
import ProjectTitle from "./ProjectTitle.astro"

export interface Props extends HTMLAttributes<"div"> {}

const { class: className, ...attrs } = Astro.props
---

<div class={cn("relative overflow-hidden", className)} {...attrs}>
  <section class="container py-20">
    <SectionTitle>Noteworthy Projects</SectionTitle>

    <div class="grid gap-14 lg:gap-24 xl:*:odd:*:first:order-1 2xl:gap-36">
      <ProjectContainer>
        <ProjectTextContainer
          data-sal="slide-up"
          data-sal-duration="400"
          data-sal-delay="200"
        >
          <div>
            <ProjectTitle>Szikra Movement's website</ProjectTitle>
            <ProjectDescription>
              <p>
                I'm the creator and maintainer of the <Link
                  href="https://szikramozgalom.hu/"
                  target="_blank"
                  class="text-green-500">Szikra Movement's website</Link
                >.
              </p>

              <p>
                The site was built to be as fast and as cost-effective as it can
                be: it doesn't require any server at runtime, not even for the
                CMS.
                <Link
                  href="https://jamstack.org/"
                  class="text-green-500"
                  target="_blank">Jamstack</Link
                > at its best.
              </p>
            </ProjectDescription>
          </div>

          <ProjectTechnologies>
            <div class="i-logos-nuxt-icon" title="Nuxt.js"></div>
            <div class="i-logos-netlify-icon" title="Netlify"></div>
            <div class="i-logos-tailwindcss-icon" title="tailwindcss"></div>
            <div title="Decap CMS"><IconDecapCMS class="text-pink-600" /></div>
            <div class="i-logos-typescript-icon" title="TypeScript"></div>
            <div title="shadcn UI"><IconShadcnUI /></div>
          </ProjectTechnologies>
        </ProjectTextContainer>

        <div data-sal="slide-right" data-sal-duration="500">
          <ProjectImageLink
            href="https://szikramozgalom.hu/"
            class="order-2 xl:order-[unset]"
          >
            <Picture
              class="w-full object-cover"
              src={szikraWeb}
              formats={["avif", "webp"]}
              loading={"lazy"}
              alt={"A screenshot of the Szikra website"}
            />
          </ProjectImageLink>
        </div>
      </ProjectContainer>

      <ProjectContainer>
        <ProjectTextContainer
          data-sal="slide-up"
          data-sal-duration="400"
          data-sal-delay="200"
        >
          <div>
            <ProjectTitle>Apro Scrape</ProjectTitle>
            <ProjectDescription>
              <p>
                <Link
                  href="https://github.com/Lehoczky/apro-scrape"
                  target="_blank"
                  class="text-green-500">Apro Scrape</Link
                > is a web scraper for the hungarian <Link
                  target="_blank"
                  href="https://hardverapro.hu/index.html"
                  class="text-green-500">hardverapro.hu</Link
                > website, which was built to sell used hardware.
              </p>

              <p>
                I originally built it when I was looking to buy a new phone and
                got frustrated when every good deal was posted at the exact time
                period when I didn't look at the site ðŸ˜’
              </p>
            </ProjectDescription>
          </div>

          <ProjectTechnologies>
            <div class="i-logos-vue" title="Vue.js"></div>
            <div class="i-logos-tailwindcss-icon" title="tailwindcss"></div>
            <div class="i-logos-electron" title="Electron"></div>
            <div class="i-logos-typescript-icon" title="TypeScript"></div>
            <div class="i-logos-jsdom" title="JS DOM"></div>
          </ProjectTechnologies>
        </ProjectTextContainer>

        <div data-sal="slide-left" data-sal-duration="500">
          <ProjectImageLink href="https://github.com/Lehoczky/apro-scrape">
            <Picture
              src={aproScrape}
              class="w-full object-cover"
              formats={["avif", "webp"]}
              loading={"lazy"}
              alt={"A screenshot of my app, Apro Scrape"}
            />
          </ProjectImageLink>
        </div>
      </ProjectContainer>

      <ProjectContainer>
        <ProjectTextContainer
          data-sal="slide-up"
          data-sal-duration="400"
          data-sal-delay="200"
        >
          <div>
            <ProjectTitle>PostCSS Fluid</ProjectTitle>
            <ProjectDescription>
              <p>
                <Link
                  href="https://github.com/Lehoczky/postcss-fluid"
                  target="_blank"
                  class="text-green-500">PostCSS Fluid</Link
                > is a CSS plugin that lets you change the size of CSS units based
                on the browser window's size without media queries.
              </p>

              <p>
                It creates a linear interpolation between two values to achieve
                a "fluid" change between those values.
              </p>
              <p>
                Here is my Demo site to check it out: <Link
                  target="_blank"
                  class="inline-block text-green-500"
                  href="https://lehoczky.github.io/postcss-fluid/"
                  >postcss-fluid | Demo</Link
                >
              </p>
            </ProjectDescription>
          </div>

          <ProjectTechnologies>
            <div class="i-logos-postcss" title="PostCSS"></div>
            <div class="i-logos-nx" title="Nx"></div>
            <div class="i-logos-typescript-icon" title="TypeScript"></div>
            <div class="i-logos-jest" title="Jest"></div>
            <div title="Astro"><IconAstro /></div>
          </ProjectTechnologies>
        </ProjectTextContainer>

        <div data-sal="slide-right" data-sal-duration="500">
          <ProjectImageLink
            href="https://github.com/Lehoczky/postcss-fluid"
            class="order-2 lg:min-h-[402px] xl:order-[unset]"
          >
            <Code
              class="rounded-lg border border-neutral-800 p-6 xl:text-lg"
              code={postcssFluidExample}
              lang={"css"}
              theme={"dark-plus"}
              tabindex="-1"
              wrap
            />
          </ProjectImageLink>
        </div>
      </ProjectContainer>
    </div>
  </section>

  <DotPattern
    class="absolute top-0 left-0 -z-40 h-full w-2/5 -translate-y-1 mask-[linear-gradient(to_bottom_right,white,transparent,transparent)]"
  />
  <DotPattern
    class="absolute right-0 bottom-0 -z-40 h-1/2 w-1/5 mask-[linear-gradient(to_bottom_right,transparent,transparent,white)]"
  />
</div>
