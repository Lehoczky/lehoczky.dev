---
import Link from "./Link.vue"
---

<header
  class="shadow-lg border-b transition-all duration-500 border-neutral-800 ease-out fixed top-0 backdrop-blur-lg bg-neutral-900 bg-opacity-90 z-40 w-full left-1/2 -translate-x-1/2"
>
  <div
    class="container flex justify-between items-center h-20 transition-[height] duration-500 ease-out"
  >
    <Link href="/" class="text-lg text-white tracking-widest">lehoczky.dev</Link
    >

    <div class="text-3xl leading-none flex gap-3">
      <a
        href="https://github.com/Lehoczky"
        aria-label="GitHub profile"
        class="hover:text-green-500 transition duration-200 hover:scale-125"
        target="_blank"
      >
        <span class="i-bxl-github"></span>
      </a>
      <a
        href="https://www.linkedin.com/in/zolt%C3%A1n-lehoczky-bb32aa188/"
        aria-label="LinkedIn profile"
        class="hover:text-green-500 transition duration-200 hover:scale-125"
        target="_blank"
      >
        <span class="i-bxl-linkedin"></span>
      </a>
    </div>
  </div>
</header>

<style>
  .scrolled {
    @apply w-[95%] translate-y-1 rounded-[2rem] sm:w-[theme('container.screens.sm')] md:w-[theme('container.screens.md')] lg:w-[theme('container.screens.lg')] xl:w-[theme('container.screens.xl')] 2xl:w-[theme('container.screens.2xl')];
  }

  .scrolled > .container {
    @apply !h-16;
  }
</style>

<script>
  import { bodyScrolledObserverElementId } from "@/constants"

  const header = document.querySelector("header")
  const intersectorElement = document.getElementById(
    bodyScrolledObserverElementId,
  )

  const intersectionObserver = new IntersectionObserver((entries) => {
    if (header) {
      if (!entries[0].isIntersecting) {
        header.classList.add("scrolled")
      } else {
        header.classList.remove("scrolled")
      }
    }
  })

  if (intersectorElement) {
    intersectionObserver.observe(intersectorElement)
  }
</script>
